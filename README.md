<!-- Document: README.md

「暗記カード生成器」の日本語マニュアル。

Metadata:

	id - 3db72088-ba41-462f-91de-7284bf80422d
	author - <qq542vev at https://purl.org/meta/me/>
	version - 0.1.0
	created - 2020-09-01
	modified - 2025-09-01
	copyright - Copyright (C) 2025-2025 qq542vev. Some rights reserved.
	license - <CC-BY-4.0 at https://creativecommons.org/licenses/by/4.0/>

See Also:

	* <Project homepage at https://github.com/qq542vev/anki-card>
	* <Bug report at https://github.com/qq542vev/anki-card/issues>
-->

# 暗記カード生成器

単一ファイル(HTML+CSS+JavaScript)のクライアントサイドWebアプリケーションです。CSVを貼り付けるだけで、印刷・切り取りして使える暗記カード(両面印刷対応)を自動生成します。ダウンロードしてオフラインでも利用可能です。

動作環境としてJavaScriptが動作するモダンなWebブラウザー(例: Chrome, Firefox, Edge)が必要です。

## 主要な特徴

 * 単一HTMLファイルで完結(オンライン・オフライン利用可)。
 * CSVを貼り付けるだけでプレビュー・印刷可能。
 * 表(表面) / 裏(裏面)に個別のインラインCSSを適用可能(CSVの3・4 列目)。
 * 両面印刷時に裏面の並び順を制御する逆順方向設定(水平 / 垂直 / 両方 / 無)。
 * 行数・列数、印刷範囲(mm 単位)、フォントサイズ(pt)、罫線幅(mm)、グリッド線(mm)などのカスタマイズ。

## インストール / 開始方法

<https://purl.org/meta/anki-card/>にアクセスするか、[リリースページ](https://purl.org/meta/anki-card/download)からダウンロードしてください。NPMからインストールする場合、次のコマンドを実行してください。

~~~
npm install anki-card
~~~

## 使い方

 1. HTMLページをWebブラウザーで開き、上部のテキストエリアにCSVを貼り付け。
 2. 行・列・表の横幅(mm)・表の縦幅(mm) などの設定を調整。
 3. 必要なら「HTMLタグを有効」にチェック(注意: 安全なデータのみ)。
 4. Webブラウザーの印刷プレビューで確認後、プリンター側の両面印刷設定と合わせて印刷。
 5. 印刷後に罫線に沿って鋏などで切り取る。

### CSVフォーマット

最大4列までサポート(カンマ区切り、改行でレコード区切り)。内部にカンマがある場合は引用符で囲みます("...")。

 * 列1: 表面のテキスト(必須)
 * 列2: 裏面のテキスト(必須)
 * 列3: 表面用のCSS(任意)
 * 列4: 裏面用のCSS(任意)

#### 例

~~~
H,水素,color:blue;
O,酸素
C,炭素,font-style:italic;
~~~

3列目・4列目を省略するとデフォルトのスタイルが適用されます。

1列目・2列目に含まれるHTMLタグを有効化する場合は、「HTMLタグを有効」をチェックしてください。

### UI の主要設定項目

 * 行: 1ページあたりの行数。
 * 列: 1ページあたりの列数。
 * 逆順方向: 両面印刷で裏面をどのように並べ替えるか(水平 / 垂直 / 両方 / 無)。
 * 表の横幅 / 表の縦幅: カードテーブルのサイズ(mm)。
 * 外側の線 / 内側の線: 罫線の太さ(mm)。内側はカード間の切り取り線。
 * 表のフォントサイズ / 裏のフォントサイズ: 各面のフォントサイズ(pt)。
 * グリッド線の間隔: 背景のグリッド線の表示間隔(mm)。
 * HTMLタグを有効：CSV内のHTMLをそのまま挿入(信頼できるデータのみ)。

### 両面印刷

両面印刷時はプリンタードライバー側の「短辺で綴じる / 長辺で綴じる(flip on short / long edge)」設定が重要です。プリンターによって用語や挙動が異なります。
 
まずは1ページだけでテスト印刷を行い、切り取り後に表裏が合っているか確認してください。

逆順方向設定を切り替えながら、プリンター設定(短辺 / 長辺)を合わせると正しい配置になります。

## セキュリティと注意点

HTMLタグを有効にすると任意の HTML(およびスクリプト)が挿入されます。外部からの未検証CSVを使用するとXSSやブラウザー上での悪意ある動作を招く可能性があるため、信頼できるデータのみで有効化してください。

アプリはクライアント側で完結し、入力データはどこにも送信されません(ただしブラウザーや拡張による影響は受けます)。

## トラブルシューティング

 * 反応がない: WebブラウザーでJavaScriptが無効になっている可能性があります。JavaScriptを有効にしてください。
 * CSVが正しく解析されない: 引用符やカンマの扱いを確認してください。内部解析はPapaParseを利用しています。
 * 裏面の順序が合わない: プリンターの両面印刷設定(短辺 / 長辺)を変えてテスト印刷、あるいは逆順方向の値を変更して再試行して下さい。


## よくある質問(FAQ)

Q. CSV内に画像を入れられますか。
A. HTMLを有効にすると`<img src="data:...">`や`<img src="https://example.com/...">`などの画像が埋め込めます。ただし、オフライン時は外部画像にアクセスできない点に注意してください。

Q. 印刷したページの縁の余白をなくせますか。
A. 表の横幅と表の縦幅をページのサイズと同じ値にし、印刷設定で縮尺は100%、余白は上下左右全て0に設定してください。プリンターによっては縁に必ず一定の余白が生じる製品があります。
